
@model Common_Objects.ViewModels.PCMChildrensCourtViewModel

@{


    var dataPlacement = ViewBag.MessagePlacement;


}


<style>




    .fade.in {
        background-color: transparent;
    }



    .modal-backdrop {
        opacity: 0.5 !important;
    }

    /* Styles for your <ul> menu */
    #headerCou ul {
        background: #F6F6F6;
        margin: 0 auto;
        padding: 28px 0 0;
        text-align: center;
        width: auto;
    }

        /* Styles for individual <li> elements */
        #headerCou ul li {
            display: inline;
            list-style: none;
            margin: 0;
            padding: 0;
        }



            /* Hover style for your links */
            #headerCou ul li a:hover {
                background: #3D515F !important;
                border-radius: 5px;
                color: black;
            }

            /* A more specific style for your "active" link */
            #headerCou ul li a.active {
                background-color: #008CBA !important;
                border-color: #000000;
                border-bottom: 5px solid #9b0e0e;
            }

                /* Specific hover style for your active link */
                #headerCou ul li a.active:hover {
                    color: yellow;
                }

    .nav-tabs > li.active > a,
    .nav-tabs > li.active > a:focus,
    .nav-tabs > li.active > a:hover {
        background-color: #008CBA !important;
        color: #fff;
    }

    .jqueryui-marker-datepicker {
        z-index: 1151 !important;
    }
</style>



<div id="rootwizardCou" style="height:auto;">

    <div id="headerCou">



        <ul class="nav nav-tabs" data-tabs="tabs" id="myTab222Cou">

            <li id="t2Cou">
                <a data-toggle="tab" href="#Cou" aria-selected="true" data-id="Cou" data-tab="tab1" id="Two">Childrens Court</a>
            </li>
            <li id="t1Cou">
                <a data-toggle="tab" href="#homeCou" aria-selected="true" data-id="homeCou" data-tab="tab1" id="one">Childrens Court Out Come</a>
            </li>



        </ul>
    </div>





    <div class="tab-content" id="section">



        <div class="tab-pane" id="homeCou" role="tabpanel">
            <h3>Childrens Court Out Come</h3>



            <div class="container" style="margin-top:3%">
                <a href="#" class="btn btn-info" onclick="SaveChildCourtOutcome(0)">Add Court Outcome</a> <br />@*<br />*@

                <table class="table table-striped">
                    <thead>
                        <tr>

                            <th>Court Expiry Date</th>
                            <th>Court Date</th>
                            <th>Remand</th>
                            <th>Next_Court_Date</th>
                            <th>Court Outcome</th>
                            <th>Action(Edit)</th>
                            <th>Action(Delete)</th>


                        </tr>
                    </thead>
                    <tbody id="SetCourtOutcomeList">
                        <tr id="LoadingStatus" style="color:red"></tr>
                    </tbody>
                </table>




                @*Create A Popup Modal With Registration Form For Add Or Edit Student Record*@



                <div class="modal fade in center" id="MyModalOutcome" style="width:80%;">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <a href="#" class="close" data-dismiss="modal">&times;</a>
                                <h4 id="ModalTitle"></h4>
                            </div>

                            <div class="modal-body">


                                <form id="formOutcome">
                                    <fieldset id="SubmitFormOutcome">

                                        @Html.HiddenFor(m => m.Children_Court_Id, new { @id = "Children_Court_Id11" })
                                        @Html.HiddenFor(m => m.Outcome_Id, new { @id = "Outcome_Id11" })

                                        <div class="row">
                                            <div class="col-md-2">

                                                Court date
                                            </div>
                                            <div class="col-md-4 form-group">
                                                <div class="input-group">
                                                    @Html.TextBoxFor(m => m.Court_Date, new { @id = "Court_Date11", @class = "form-control jqueryui-marker-datepicker" })
                                                    <label for="Court_Date11" class="input-group-addon btn">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </label>
                                                </div>
                                            </div>
                                            </div>


                                        <div class="row">
                                            <div class="col-md-2">

                                                Remand
                                            </div>
                                            <div class="col-md-4 form-group">

                                                @Html.HiddenFor(m => m.Remand, new { @id = "Remand11", @class = "form-control" })
                                                <input type="radio" name="Remand_options11" id="rds_111" value="Yes" /> Yes
                                                <input type="radio" name="Remand_options11" id="rds_211" value="No" /> No
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-2">
                                                Reason for remand
                                            </div>
                                            <div class="col-md-6 form-group">
                                            
                                                    @Html.TextAreaFor(m => m.Reason_Remand, new { @id = "Reason_Remand11", @class = "form-control", @placeholder = "" })
                                               
                                            </div>
                                            </div>

                                        <div class="row">
                                            <div class="col-md-2">
                                                Next court date
                                            </div>
                                            <div class="col-md-4 form-group">
                                                <div class="input-group">
                                                    @Html.TextBoxFor(m => m.Next_Court_Date, new { @id = "Next_Court_Date11", @class = "form-control jqueryui-marker-datepicker" })
                                                    <label for="Next_Court_Date11" class="input-group-addon btn">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </label>
                                                </div>
                                            </div>
                                            </div>

                                        <div class="row">
                                            <div class="col-md-2">
                                                Court outcome
                                            </div>
                                            <div class="col-md-6 form-group">
                                                @Html.TextAreaFor(m => m.Court_Outcome, new { @id = "Court_Outcome11", @class = "form-control", @placeholder = "" })
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-2">
                                                <p> Recommendation Type</p>
                                            </div>
                                            <div class="col-md-4 form-group">



                                                @Html.DropDownList("PCM_Recommendation_Id11", ViewBag.Recommendation_Type_List as SelectList, "Select Recommendation", new { id = "PCM_Recommendation_Id11", @class = "form-control", @required = "required" })
                                                @Html.ValidationMessageFor(x => x.PCM_Recommendation_Id, "", new { @class = "text-danger" })
                                            </div>
                                        </div>

                                         

                                        <div class="row">
                                            <div class="col-md-2">
                                                Placement Type
                                            </div>
                                            <div class="col-md-4 form-group">

                                                @Html.DropDownList("Placement_Type_Id11", ViewBag.PlacementRecomendation_List as SelectList, "Select Placement", new { id = "Placement_Type_Id11", @class = "form-control", @required = "required" })
                                                @Html.ValidationMessageFor(x => x.Placement_Type_Id, "", new { @class = "text-danger" })

                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-md-2">
                                                Childrens Court Case Status
                                            </div>
                                            <div class="col-md-4 form-group">

                                                @Html.DropDownList("CaseStatus_Id11", ViewBag.CourtOutcomeCaseStatusation_Type as SelectList, "Select Status", new { id = "CaseStatus_Id11", @class = "form-control", @required = "required" })
                                                @Html.ValidationMessageFor(x => x.Court_Case_Status_Id, "", new { @class = "text-danger" })



                                            </div>
                                        </div>


                                        <div class="col-md-2 form-group">
                                            <a href="#" class="btn btn-block btn-success" id="SaveOutcomeRecord">Save</a>
                                        </div>

                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="modal fade" id="MyModalUpload">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <a href="#" class="close" data-dismiss="modal">&times;</a>
                                <h4 id="ModalTitle"></h4>
                            </div>
                            <div class="modal-body">
                                <form id="formUpload">
                                    <fieldset id="SubmitFormUpload">

                                        <ul class="nav nav-tabs">
                                            <li class="active"><a data-toggle="tab" href="#home">Upload Documents</a></li>
                                            <li><a data-toggle="tab" href="#menu1">Existing Documents</a></li>
                                        </ul>

                                        <div class="tab-content">
                                            <div id="home" class="tab-pane fade in active">
                                                @*@Html.Action("Index", "PCMChildrensCourtDoc");*@

                                                @using (Html.BeginForm("UplaodDoc", "PCMChildrensCourt", FormMethod.Post, new { enctype = "multipart/form-data" }))
                                                {

                                                    <br>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            Outcome Id
                                                        </div>
                                                        <div class="col-md-4 form-group">
                                                            @Html.TextBoxFor(m => m.Outcome_Id, new { @id = "Outcome_Id", @class = "form-control" })
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            Intake_Assessment_Id
                                                        </div>
                                                        <div class="col-md-4 form-group">
                                                            @Html.TextBoxFor(m => m.Intake_Assessment_Id, new { @id = "I_Id", @class = "form-control" })
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            Upload File
                                                        </div>
                                                        <div class="col-md-8 form-group">
                                                            <input type="file" name="file" id="file" />
                                                        </div>
                                                    </div>


                                                    <br>
                                                    <input type="submit" value="Upload Image" />
                                                    <br><br>
                                                    @ViewBag.Message
                                                }

                                            </div>
                                            <div id="menu1" class="tab-pane fade">

                                                @*@Html.Action("DownloadFile", "PCMChildrensCourt");*@

                                            </div>

                                        </div>



                                        <br />

                                        @*<div class="form-group">
                                                <a href="#" class="btn btn-block btn-danger" id="SaveUploadRecord">Save</a>
                                            </div>*@

                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>



            </div>

        </div>


        <div class="tab-pane fade in active" id="Cou" role="tabpanel">
            <h3>Childrens Court</h3>

            <div class="container" style="margin-top:3%">
                <a href="#" class="btn btn-info" onclick="SaveChildCourt(0)">Add Court</a> <br />@*<br />*@

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Children_Court_Id</th>
                            <th>
                                Court order expiry date
                            </th>
                            <th>Is child in need of care </th>
                            <th>Prevention of and treatment for substance </th>
                            <th>
                                Referral date
                            </th>
                            <th>Action(Edit)</th>


                        </tr>
                    </thead>
                    <tbody id="SetCourt">
                        <tr id="LoadingStatus" style="color:red"></tr>
                    </tbody>
                </table>

                <div class="modal fade in center" id="MyModalChildCourt" style="width:80%;">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <a href="#" class="close" data-dismiss="modal">&times;</a>
                                <h4 id="ModalTitle"></h4>
                            </div>
                            <div class="modal-body">
                                <form id="form">
                                    <fieldset id="SubmitFormChildCourt">
                                        @Html.HiddenFor(m => m.Children_Court_Id, new { @id = "Children_Court_Id" })
                                        @Html.HiddenFor(m => m.PCM_Recommendation_Id, new { @id = "PCM_Recommendation_Id" })


                                        <div class="row">
                                            <div class="col-md-6">
                                                <p> Court order expiry date  </p>

                                            </div>
                                            <div class="col-md-4 form-group">
                                                <div class="input-group">
                                                    @Html.EditorFor(model => model.Court_Expiry_Date, new { htmlAttributes = new { @class = "form-control jqueryui-marker-datepicker", @id = "Court_Expiry_Date" } })
                                                    <label for="Court_Expiry_Date" class="input-group-addon btn">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </label>
                                                    @Html.ValidationMessageFor(model => model.Court_Expiry_Date, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                            </div>


                                        <div class="row">
                                            <div class="col-md-6">
                                                <p>Is the child in need of care in terms of the children's act 38-2005 as amended?</p>

                                            </div>
                                            <div class="col-md-6 form-group">
                                         

                                                @Html.HiddenFor(m => m.Child_Need_Care, new { @id = "Child_Need_Care", @class = "form-control" })
                                                <input type="radio" name="Child_Need_Care1" id="rds_Ch11" value="Yes" /> Yes
                                                <input type="radio" name="Child_Need_Care1" id="rds_Ch21" value="No" /> No
                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-md-6">

                                                <p>Alternative placement</p>
                                            </div>
                                            <div class="col-md-6 form-group">
                                                @Html.TextBoxFor(model => model.Alternative_Placement, new { @id = "Alternative_Placement", @class = "form-control" })
                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-md-6">

                                                <p>Prevention of and treatment of substance abuse</p>
                                            </div>
                                            <div class="col-md-6 form-group">
                       

                                                @Html.HiddenFor(m => m.Substance_Abuse_Treat, new { @id = "Substance_Abuse_Treat1", @class = "form-control" })
                                                <input type="radio" name="Substance_Abuse_Treat1" id="rds_Su11" value="Yes" /> Yes
                                                <input type="radio" name="Substance_Abuse_Treat1" id="rds_Su21" value="No" /> No
                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-md-6">

                                                <p>Referral date </p>
                                            </div>
                                            <div class="col-md-4 form-group">
                                                <div class="input-group">
                                                    @Html.EditorFor(model => model.Referral_Date, new { htmlAttributes = new { @class = "form-control jqueryui-marker-datepicker" } })
                                                    <label for="Court_Expiry_Date" class="input-group-addon btn">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </label>
                                                    @Html.ValidationMessageFor(model => model.Referral_Date, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                            </div>

                                        <div class="row">
                                            <div class="col-md-6">
                                                <p>Case manager </p>
                                            </div>
                                            <div class="col-md-6 form-group">
                                                @Html.TextBoxFor(model => model.Case_Manager, new { @id = "Case_Manager", @class = "form-control" })
                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-md-6">
                                                <p>Service_Provider </p>
                                            </div>
                                            <div class="col-md-6 form-group">
                                                @Html.TextBoxFor(model => model.Service_Provider, new { @id = "Service_Provider", @class = "form-control" })
                                            </div>
                                        </div>

                                        <div class="col-md-2 form-group">
                                            <a href="#" class="btn btn-block btn-success" id="SaveStudentRecord">Save</a>

                                        </div>

                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>








<script>

    $("#LoadingStatus").html("Loading....");
    $.get("../../PCMChildrensCourt/GetOutcometList", null, DataBind);
    function DataBind(List) {
        var SetOutcomeData = $("#SetCourtOutcomeList");
        for (var i = 0; i < List.length; i++) {
            var Data = "<tr class='row_" + List[i].Children_Court_Id + "'>" +

                "<td>" + ToJavaScriptDatett(List[i].Court_Expiry_Date) + "</td>" +
                "<td>" + ToJavaScriptDatett(List[i].Court_Date) + "</td>" +
                "<td>" + List[i].Remand + "</td>" +
                "<td>" + ToJavaScriptDatett(List[i].Next_Court_Date) + "</td>" +
                "<td>" + List[i].Court_Outcome + "</td>" +

                "<td>" + "<a href='#' class='btn btn-warning' onclick='EditOutcomeRecord(" + List[i].Outcome_Id + ")' ><span class='glyphicon glyphicon-edit'></span></a>" + "</td>" +
                "<td>" + "<a href='#' class='btn btn-danger' onclick='UploadOutcomeRecord(" + List[i].Intake_Assessment_Id + ")'><span class='glyphicon glyphicon-plus'></span></a>" + "</td>" +
               
                "</tr>";
            SetOutcomeData.append(Data);
            $("#LoadingStatus").html(" ");

        }
    }

    $.getJSON('../../PCMChildrensCourt/GetCourtList', function (data) {

        var items = $("#SetCourt");
        $.each(data, function (i, p) {
            items +=
                "<tr><td>" + p.Children_Court_Id +
            "</td><td>" + ToJavaScriptDatett(p.Court_Expiry_Date) +
                "</td><td>" + p.Child_Need_Care +
                "</td><td>" + p.Substance_Abuse_Treat +
            "</td><td>" + ToJavaScriptDatett(p.Referral_Date) +
                "</td><td>" + "<a href='#' class='btn btn-warning' onclick='EditCourt(" + p.Children_Court_Id + ")' ><span class='glyphicon glyphicon-edit'></span></a>" +
                "</td></tr>";
        });
        items += "</table>";

        $('#SetCourt').html(items);
    });

    function SaveChildCourtOutcome(Children_Court_Id) {
        $("#form")[0].reset();
        $("#ModalTitle").html("Add New  Court");
        $("#MyModalOutcome").modal();

    }


    function SaveChildCourt(Children_Court_Id) {
        $("#form")[0].reset();
        $("#ModalTitle").html("Add New Court");
        $("#MyModalChildCourt").modal();
    }



    function EditCourt(Children_Court_Id) {
        var url = "../../PCMChildrensCourt/GetPCMCourtById?Children_Court_Id=" + Children_Court_Id;
        $("#ModalTitle").html("Update Childrens Court");
        $("#MyModalChildCourt").modal();
        $.ajax({
            type: "GET",
            url: url,
            success: function (data) {
                var obj = JSON.parse(data);
                $("#Children_Court_Id").val(obj.Children_Court_Id);
                $("#Intake_Assessment_Id").val(obj.Intake_Assessment_Id);
                $("#Court_Expiry_Date").val(obj.Court_Expiry_Date);
                $("#Child_Need_Care").val(obj.Child_Need_Care);
                var value = $("#Child_Need_Care").val().trim();
                if (value == "Yes") {

                    $("#rds_Ch11").attr('checked', true);
                    $("#rds_Ch21").prop("checked", false);

                } else {
                    $("#rds_Ch21").prop("checked", true);
                    $("#rds_Ch11").prop("checked", false);
                }
                $("#Alternative_Placement").val(obj.Alternative_Placement);
               
                $("#Referral_Date").val(obj.Referral_Date);
                $("#Substance_Abuse_Treat1").val(obj.Substance_Abuse_Treat);
                var value2 = $("#Substance_Abuse_Treat1").val().trim();
                if (value2 == "Yes") {

                    $("#rds_Su11").attr('checked', true);
                    $("#rds_Su21").prop("checked", false);

                } else {
                    $("#rds_Su21").prop("checked", true);
                    $("#rds_Su11").prop("checked", false);
                }
                $("#Service_Provider").val(obj.Service_Provider);
                $("#Case_Manager").val(obj.Case_Manager);

                
            }
        })
    }

    function ToJavaScriptDate(value) { //To Parse Date from the Returned Parsed Date

        if (value == null || value == '') {
            return 0;
        }
        else {
            var pattern = /Date\(([^)]+)\)/;
            var results = pattern.exec(value);
            var dt = new Date(parseFloat(results[1]));
            return (dt.getMonth() + 1) + "/" + dt.getDate() + "/" + dt.getFullYear();
        }

    }

    function EditOutcomeRecord(Outcome_Id) {
        var url = "../../PCMChildrensCourt/GetPCMCourtOutcomeById?Outcome_Id=" + Outcome_Id;
        $("#ModalTitle").html("Update Childrens Court Outcome");
        $("#MyModalOutcome").modal();
        $.ajax({
            type: "GET",
            url: url,
            success: function (data) {
                var obj = JSON.parse(data);
                $("#Outcome_Id11").val(obj.Outcome_Id);
                $("#Intake_Assessment_Id11").val(obj.Intake_Assessment_Id);
                $("#Court_Date11").val(obj.Court_Date);
                $("#Remand11").val(obj.Remand);

             

                $("#Reason_Remand11").val(obj.Reason_Remand);
                $("#Next_Court_Date11").val(obj.Next_Court_Date);
                $("#Court_Outcome11").val(obj.Court_Outcome);
                $("#Children_Court_Id").val(obj.Children_Court_Id);

                $("#PCM_Recommendation_Id11 option:selected").text(obj.descrRecommendation);
                $("#PCM_Recommendation_Id11 option:selected").val(obj.Recommendation_Type_Id);

                $("#Placement_Type_Id11 option:selected").text(obj.descrPlacement);
                $("#Placement_Type_Id11 option:selected").val(obj.Placement_Type_Id);

                $("#CaseStatus_Id11 option:selected").text(obj.descrStatusCourt);
                $("#CaseStatus_Id11 option:selected").val(obj.Court_Case_Status_Id);

                var value = $("#Remand11").val().trim();
         

                if (value == "Yes") {

                    $("#rds_111").attr('checked', true);
                    $("#rds_211").prop("checked", false);

                } else {
                    $("#rds_211").prop("checked", true);
                    $("#rds_111").prop("checked", false);
                }
            }
        })
    }

    function UploadOutcomeRecord(Outcome_Id) {
        var url = "../../PCMChildrensCourt/GetPCMCourtOutcomeById?Outcome_Id=" + Outcome_Id;
        $("#ModalTitle").html("Upload Childrens Court Outcome Documents");
        $("#MyModalUpload").modal();
        $.ajax({
            type: "GET",
            url: url,
            success: function (data) {
                var obj = JSON.parse(data);
                $("#Outcome_Id").val(obj.Outcome_Id);
                $("#I_Id").val(obj.Intake_Assessment_Id);


            }
        })
    }

    $("#SaveStudentRecord").click(function () {
        var data = $("#SubmitFormChildCourt").serialize();
        var Substance = $('input:radio[name=Substance_Abuse_Treat1]:checked').val();
       
        $.ajax({
            type: "Post",
            url: "../../PCMChildrensCourt/CreatePCMCC",
            data: {
                Children_Court_Id: $("#Children_Court_Id").val(),
                Court_Expiry_Date: $("#Court_Expiry_Date").val(),
                Child_Need_Care: $('input:radio[name=Child_Need_Care1]:checked').val(),
                Alternative_Placement: $("#Alternative_Placement").val(),
                Referral_Date: $("#Referral_Date").val(),
               
                Substance_Abuse_Treat: Substance,
                Service_Provider: $("#Service_Provider").val(),
                Case_Manager: $("#Case_Manager").val(),
                
            },
            success: function (result) {
                alert("Success!..");




                
                $.getJSON('../../PCMChildrensCourt/GetCourtList', function (data) {

                    var items = $("#SetCourt");
                    $.each(data, function (i, p) {
                        items +=
                            "<tr><td>" + p.Children_Court_Id +
                        "</td><td>" + ToJavaScriptDatett(p.Court_Expiry_Date) +
                            "</td><td>" + p.Child_Need_Care +
                            "</td><td>" + p.Substance_Abuse_Treat +
                        "</td><td>" + ToJavaScriptDatett(p.Referral_Date) +
                            "</td><td>" + "<a href='#' class='btn btn-warning' onclick='EditCourt(" + p.Children_Court_Id + ")' ><span class='glyphicon glyphicon-edit'></span></a>" +
                            "</td></tr>";
                    });
                    items += "</table>";

                    $('#SetCourt').html(items);
                });

                
                $("#MyModalChildCourt").modal("hide");

            }
        })
    })


    $("#SaveOutcomeRecord").click(function () {
        var data = $("#SubmitFormOutcome").serialize();
        $.ajax({
            type: "Post",
            url: "../../PCMChildrensCourt/CreatePCMCourtOutcome",
            data: {

                Children_Court_Id: $("#Children_Court_Id11").val(),
                Court_Date: $("#Court_Date11").val(),
                Next_Court_Date: $("#Next_Court_Date11").val(),
                Court_Outcome: $("#Court_Outcome11").val(),
                Outcome_Id: $("#Outcome_Id11").val(),
                Type_Of_Placement_Id: $("#Placement_Type_Id11").val(),
                Recommendation_Type_Id: $("#PCM_Recommendation_Id11").val(),
                Court_Case_Status_Id: $("#CaseStatus_Id11").val(),
                Reason_Remand: $("#Reason_Remand11").val(),

                Remand: $('input:radio[name=Remand_options11]:checked').val(),

            },
            success: function (result) {
                alert("Success!..");
                $.getJSON('../../PCMChildrensCourt/GetOutcometList', function (data) {

                    var items = $("#SetList");
                    $.each(data, function (i, p) {
                        items +=
                            "<tr><td>" + p.Outcome_Id +
                        "</td><td>" + ToJavaScriptDatett(p.Court_Date) +
                            "</td><td>" + p.Remand +
                        "</td><td>" + ToJavaScriptDatett(p.Next_Court_Date) +
                            "</td><td>" + p.Court_Outcome +

                            "</td></tr>";
                    });
                    items += "</table>";

                    $('#SetList').html(items);
                });
                $("#MyModalOutcome").modal("hide");


            }
        })
    })

    function ToJavaScriptDatett(value) {


        if (value == null || value == '') {
            return 0;
        }

        else {
            var pattern = /Date\(([^)]+)\)/;
            var results = pattern.exec(value);
            var dt = new Date(parseFloat(results[1]));
            return (dt.getDate() + "/" + dt.getMonth() + 1) + "/" + dt.getFullYear();
        }


    }


</script>


<script type="text/javascript">
    $(document).ready(function () {

        // Initialize items marked as datepickers
        $(".jqueryui-marker-datepicker").datepicker({
            dateFormat: "dd M yy",
            changeYear: true
        });

    });


    
</script>

@section Scripts {

    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/jqueryui")
    @Styles.Render("~/Content/cssjqryUi")

  

}
